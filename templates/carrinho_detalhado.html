<div id="item-carrinho" class="cart-items">
    {% csrf_token %}
    {% for item in item_carrinho %}
        <div id="menu-item-{{ item.detalhe_produto.id }}-carrinho" class="cart-item">
            <div class="d-flex justify-content-between align-items-start mb-3">
                <div class="flex-grow-1">
                    <div class="fw-bold mb-1" style="color: var(--secondary-black);">{{ item.detalhe_produto.produto.marca }} {{ item.detalhe_produto.produto.nome }}</div>
                    <div class="text-muted small mb-2">Tam. {{ item.detalhe_produto.tamanho }} - {{ item.detalhe_produto.cor.nome }} - {{ item.detalhe_produto.get_genero_display }}</div>
                </div>
                <a href="{% url 'menu:excluir_do_carrinho' item.detalhe_produto.id %}" class="btn btn-outline-danger btn-sm btn-ajax">
                    <i class="fas fa-trash"></i> 
                </a>
            </div>
            <div class="d-flex justify-content-between align-items-center">
                <div class="quantity-controls">
                    <a href="{% url 'menu:remover_do_carrinho' item.detalhe_produto.id %}" class="btn btn-danger btn-sm quantity-btn btn-ajax">
                        <i class="fas fa-minus"></i>
                    </a>
                    <span id="quantidade-{{ item.detalhe_produto.id }}-carrinho" class="quantity-value">{{ item.quantidade }}</span>
                    <a href="{% url 'menu:adicionar_ao_carrinho' item.detalhe_produto.id %}" class="btn btn-success btn-sm quantity-btn btn-ajax">
                        <i class="fas fa-plus"></i>
                    </a>
                </div>
                <span id="total-{{ item.detalhe_produto.id }}-carrinho" class="fw-bold" style="font-size: 18px; color: var(--secondary-black);">R$ {{ item.get_total|floatformat:2 }}</span>
            </div>
        </div>
    {% endfor %}
</div>
